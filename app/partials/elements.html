
<div ng-controller="ElementController">
	
	<uib-accordion>
		<!-- UPLOAD AREA -->
		<div uib-accordion-group heading="Your Uploads" template-url="templates/upload.html" is-open="true">
		<ul class="list-group" ng-if="!user.isLogged()">
			<li class="list-group-item crop">
				Please log in 
			</li>
		</ul>
		<ul class="list-group" ng-if="user.isLogged()">
			<li class="list-group-item crop">
				
				<div class="drop-box" accept="image/*"
					ngf-drop="upload(files)" 
					ng-model="files"  
					ngf-drag-over-class="'dragover'" 
					ngf-multiple="true" 
					ngf-allow-dir="true"
					ngf-pattern="'image/*'">

						<div class="btn btn-primary btn-sm text-center" role="button" ngf-select="upload(files)" ng-model="files" ngf-multiple="true" ngf-capture="'camera'" >Select Files</div>
						<br><small>Drop images here or click to upload</small>
				</div>
				<div ngf-no-file-drop>
					File Drag/Drop is not supported for this browser
				</div>
			</li>
			<li class="list-group-item crop" ng-repeat="(id,progressBar) in progressBars">
				<small><em>{{ progressBar.fileName}}</em></small>
				<uib-progressbar class="progress-striped active" value="progressBar.progress" type="{{progressBar.type}}">
					{{progressBar.msg}} 
				</uib-progressbar>
			</li>
		</ul>

		<!-- UPLOAD LIST -->
		<ul class="list-group" ng-if="uploads.length != 0">
			<li class="list-group-item crop" ng-repeat="upload in uploads">
				<div class="row" ng-click="selectElement(upload)">
					<div class="col-sm-12">
						<img id="{{ upload.id }}" ng-src="{{ upload.src }}" class="img-thumbnail" alt="Member Image" />
					</div>
				</td>
			</li>
		</ul>

		<!-- ELEMENT GROUPS -->
		<div uib-accordion-group heading="{{ element.title }}" ng-click='loadElement(element)' ng-repeat="element in elements">
			<table class="table table-condensed">
				<tbody>
					<tr ng-repeat="member in element.members">
						<td ng-click="selectElement(member)">
							<div class="row">
								<div class="col-sm-12">
									<img id="{{ member.elementId }}" ng-src="images/elements/{{ element.name }}/{{ member.img }}" class="img-thumbnail" alt="Member Image" />
								</div>
							</div>
						</td>
					</tr>
				</tbody>
			</table>
		</div>
	</uib-accordion>
</div>
